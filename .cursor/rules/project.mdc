---
alwaysApply: true
---

## È°πÁõÆÊ¶ÇËø∞

**È°πÁõÆÂêçÁß∞**: ruoyi-eggjs  
**ÁâàÊú¨**: 1.1.0  
**ÊèèËø∞**: Âü∫‰∫é Egg.js ÁöÑ‰ºÅ‰∏öÁ∫ßÂêéÂè∞ÁÆ°ÁêÜÁ≥ªÁªüÔºåÂèÇÁÖßËã•‰æùÔºàRuoYiÔºâÊû∂ÊûÑËÆæËÆ°  
**‰ΩúËÄÖ**: ÂßúÂΩ¶Ê±ê  
**ÂÆòÁΩë**: https://www.undsky.com  
**‰ªìÂ∫ì**: https://github.com/undsky/ruoyi-eggjs  
**ÂçèËÆÆ**: MIT

### Ê†∏ÂøÉÁâπÊÄß

- üóÑÔ∏è MyBatis XML È£éÊ†ºÁöÑ SQL Êò†Â∞Ñ
- ü§ñ Âü∫‰∫é XML Mapper ÁöÑ‰ª£Á†ÅËá™Âä®ÁîüÊàê
- üéØ Ë£ÖÈ•∞Âô®Ë∑ØÁî±Ôºà@Route„ÄÅ@HttpGet„ÄÅ@HttpPost Á≠âÔºâ
- üîê JWT ËÆ§ËØÅÊéàÊùÉ
- üîí ÊùÉÈôêÊéßÂà∂Ë£ÖÈ•∞Âô®Ôºà@RequiresPermissions„ÄÅ@RequiresRolesÔºâ
- üöÄ Â§öÂ±ÇÁ∫ßÁºìÂ≠òÔºàMemory„ÄÅFile„ÄÅRedisÔºâ
- üõ°Ô∏è API ÈôêÊµÅ‰øùÊä§
- üì¶ Êñá‰ª∂‰∏ä‰º†‰∏ãËΩΩ
- üìù Áªü‰∏ÄÂìçÂ∫îÊ†ºÂºèÂåñ

---

## ÊäÄÊúØÊ†à

### Ê†∏ÂøÉÊ°ÜÊû∂
- **Node.js**: >=20.0.0
- **Egg.js**: ^3.x - ‰ºÅ‰∏öÁ∫ß Node.js Ê°ÜÊû∂
- **MySQL**: >=5.7 Êàñ MariaDB >=10.2
- **Redis**: >=5.0ÔºàÂèØÈÄâÔºâ

### ‰∏ªË¶Å‰æùËµñ
- **egg-decorator-router**: ^1.0.7 - Ë£ÖÈ•∞Âô®Ë∑ØÁî±
- **egg-jwt**: ^3.1.7 - JWT ËÆ§ËØÅ
- **egg-cors**: ^3.0.0 - Ë∑®ÂüüÊîØÊåÅ
- **bcryptjs**: ^2.4.3 - ÂØÜÁ†ÅÂä†ÂØÜ
- **dayjs**: ^1.11.10 - Êó•ÊúüÂ§ÑÁêÜ
- **lodash**: ^4.17.21 - Â∑•ÂÖ∑ÂáΩÊï∞Â∫ì
- **nanoid**: ^3.3.7 - ÂîØ‰∏Ä ID ÁîüÊàê
- **fs-extra**: ^11.2.0 - Êñá‰ª∂Á≥ªÁªüÂ¢ûÂº∫
- **trek-captcha**: ^0.4.0 - È™åËØÅÁ†ÅÁîüÊàê

### Ëá™Á†îÊèí‰ª∂
- **ruoyi-eggjs-mybatis**: MyBatis XML SQL Êò†Â∞Ñ
- **ruoyi-eggjs-mysql**: MySQL Êï∞ÊçÆÂ∫ìÊìç‰Ωú
- **ruoyi-eggjs-cache**: Â§öÂ±ÇÁ∫ßÁºìÂ≠òÁÆ°ÁêÜ
- **ruoyi-eggjs-ratelimiter**: API ÈôêÊµÅ
- **ruoyi-eggjs-cli**: ‰ª£Á†ÅÁîüÊàêÂëΩ‰ª§Ë°åÂ∑•ÂÖ∑
- **ruoyi-eggjs-sqlite**: SQLite Êï∞ÊçÆÂ∫ìÊîØÊåÅ
- **ruoyi-eggjs-handlebars**: Handlebars Ê®°ÊùøÂºïÊìé

---

## È°πÁõÆÁªìÊûÑ

```
ruoyi-eggjs/
‚îú‚îÄ‚îÄ app/                          # Â∫îÁî®‰ª£Á†ÅÁõÆÂΩï
‚îÇ   ‚îú‚îÄ‚îÄ controller/               # ÊéßÂà∂Âô®ÔºàAPI ÂÖ•Âè£Ôºâ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ api/                  # ÂÖ¨ÂÖ± API
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system/               # Á≥ªÁªüÁÆ°ÁêÜÊ®°Âùó
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ login.js          # ÁôªÂΩïËÆ§ËØÅ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ user.js           # Áî®Êà∑ÁÆ°ÁêÜ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ role.js           # ËßíËâ≤ÁÆ°ÁêÜ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ menu.js           # ËèúÂçïÁÆ°ÁêÜ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dept.js           # ÈÉ®Èó®ÁÆ°ÁêÜ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ post.js           # Â≤ó‰ΩçÁÆ°ÁêÜ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ config.js         # ÂèÇÊï∞ÈÖçÁΩÆ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dictType.js       # Â≠óÂÖ∏Á±ªÂûã
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ dictData.js       # Â≠óÂÖ∏Êï∞ÊçÆ
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ notice.js         # ÈÄöÁü•ÂÖ¨Âëä
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ profile.js        # ‰∏™‰∫∫‰∏≠ÂøÉ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monitor/              # Á≥ªÁªüÁõëÊéßÊ®°Âùó
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ online.js         # Âú®Á∫øÁî®Êà∑
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ logininfor.js     # ÁôªÂΩïÊó•Âøó
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ operlog.js        # Êìç‰ΩúÊó•Âøó
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ job.js            # ÂÆöÊó∂‰ªªÂä°
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ jobLog.js         # ‰ªªÂä°Êó•Âøó
‚îÇ   ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ server.js         # ÊúçÂä°ÁõëÊéß
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ cache.js          # ÁºìÂ≠òÁõëÊéß
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tool/                 # Á≥ªÁªüÂ∑•ÂÖ∑Ê®°Âùó
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ gen.js            # ‰ª£Á†ÅÁîüÊàê
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ common.js             # ÂÖ¨ÂÖ±ÊéßÂà∂Âô®Ôºà‰∏ä‰º†‰∏ãËΩΩÔºâ
‚îÇ   ‚îú‚îÄ‚îÄ service/                  # ÊúçÂä°Â±ÇÔºà‰∏öÂä°ÈÄªËæëÔºâ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ db/                   # Êï∞ÊçÆÂ∫ìÊúçÂä°ÔºàËá™Âä®ÁîüÊàêÔºâ
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ mysql/
‚îÇ   ‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ ruoyi/        # Ëã•‰æùÁ≥ªÁªüË°®ÊúçÂä°
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ system/               # Á≥ªÁªüÊúçÂä°
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ monitor/              # ÁõëÊéßÊúçÂä°
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ tool/                 # Â∑•ÂÖ∑ÊúçÂä°
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ upload.js             # ‰∏ä‰º†ÊúçÂä°
‚îÇ   ‚îú‚îÄ‚îÄ decorator/                # Ëá™ÂÆö‰πâË£ÖÈ•∞Âô®
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ permission.js         # ÊùÉÈôêÊéßÂà∂Ë£ÖÈ•∞Âô®
‚îÇ   ‚îú‚îÄ‚îÄ middleware/               # ‰∏≠Èó¥‰ª∂
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ accessControl.js      # ËÆøÈóÆÊéßÂà∂ÔºàJWT È™åËØÅÔºâ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ formatBody.js         # ÂìçÂ∫îÊ†ºÂºèÂåñ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ permission.js         # ÊùÉÈôêÈ™åËØÅ‰∏≠Èó¥‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ extend/                   # Êâ©Â±ï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ helper.js             # ËæÖÂä©ÂáΩÊï∞
‚îÇ   ‚îú‚îÄ‚îÄ constant/                 # Â∏∏ÈáèÂÆö‰πâ
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ index.js              # Á≥ªÁªüÂ∏∏Èáè
‚îÇ   ‚îú‚îÄ‚îÄ public/                   # ÈùôÊÄÅËµÑÊ∫ê
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ uploads/              # Êñá‰ª∂‰∏ä‰º†ÁõÆÂΩï
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ favicon.ico           # ÁΩëÁ´ôÂõæÊ†á
‚îÇ   ‚îî‚îÄ‚îÄ schedule/                 # ÂÆöÊó∂‰ªªÂä°ÔºàEgg.js ÂéüÁîüÔºâ
‚îú‚îÄ‚îÄ config/                       # ÈÖçÁΩÆÊñá‰ª∂
‚îÇ   ‚îú‚îÄ‚îÄ config.default.js         # ÈªòËÆ§ÈÖçÁΩÆÔºàÊâÄÊúâÁéØÂ¢ÉÔºâ
‚îÇ   ‚îú‚îÄ‚îÄ config.local.js           # Êú¨Âú∞ÂºÄÂèëÈÖçÁΩÆ
‚îÇ   ‚îú‚îÄ‚îÄ config.prod.js            # Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆ
‚îÇ   ‚îî‚îÄ‚îÄ plugin.js                 # Êèí‰ª∂ÈÖçÁΩÆ
‚îú‚îÄ‚îÄ mapper/                       # MyBatis XML Êò†Â∞ÑÊñá‰ª∂
‚îÇ   ‚îî‚îÄ‚îÄ mysql/
‚îÇ       ‚îî‚îÄ‚îÄ ruoyi/                # Ëã•‰æùÁ≥ªÁªüË°® Mapper
‚îÇ           ‚îú‚îÄ‚îÄ SysUserMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysRoleMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysMenuMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysDeptMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysPostMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysConfigMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysDictTypeMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysDictDataMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysNoticeMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysLogininforMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysOperLogMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysJobLogMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysRoleMenuMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysRoleDeptMapper.xml
‚îÇ           ‚îú‚îÄ‚îÄ SysUserRoleMapper.xml
‚îÇ           ‚îî‚îÄ‚îÄ SysUserPostMapper.xml
‚îú‚îÄ‚îÄ docs/                         # È°πÁõÆÊñáÊ°£
‚îÇ   ‚îú‚îÄ‚îÄ API_MAPPING.md            # API Êò†Â∞ÑÊñáÊ°£
‚îÇ   ‚îú‚îÄ‚îÄ PERMISSION_GUIDE.md       # ÊùÉÈôêÊéßÂà∂ÂÆåÊï¥ÊåáÂçó
‚îÇ   ‚îú‚îÄ‚îÄ PERMISSION_QUICK_START.md # ÊùÉÈôêÊéßÂà∂Âø´ÈÄüÂºÄÂßã
‚îÇ   ‚îú‚îÄ‚îÄ PERMISSION_IMPLEMENTATION.md # ÊùÉÈôêÊéßÂà∂ÂÆûÁé∞ÁªÜËäÇ
‚îÇ   ‚îú‚îÄ‚îÄ AUTH_MODULE_README.md     # ËÆ§ËØÅÊ®°ÂùóËØ¥Êòé
‚îÇ   ‚îú‚îÄ‚îÄ QUICK_START_AUTH.md       # ËÆ§ËØÅÂø´ÈÄüÂºÄÂßã
‚îÇ   ‚îú‚îÄ‚îÄ *_MANAGEMENT_API.md       # ÂêÑÊ®°Âùó API ÊñáÊ°£
‚îÇ   ‚îî‚îÄ‚îÄ *_MODULE_COMPLETED.md     # ÂêÑÊ®°ÂùóÂÆåÊàêÁä∂ÊÄÅ
‚îú‚îÄ‚îÄ cache/                        # Êñá‰ª∂ÁºìÂ≠òÁõÆÂΩïÔºàËøêË°åÊó∂ÁîüÊàêÔºâ
‚îú‚îÄ‚îÄ logs/                         # Êó•ÂøóÁõÆÂΩïÔºàËøêË°åÊó∂ÁîüÊàêÔºâ
‚îú‚îÄ‚îÄ run/                          # ËøõÁ®ã PID Êñá‰ª∂ÔºàËøêË°åÊó∂ÁîüÊàêÔºâ
‚îú‚îÄ‚îÄ lib/                          # Á¨¨‰∏âÊñπÂ∫ìÊàñËá™ÂÆö‰πâÂ∫ì
‚îú‚îÄ‚îÄ typings/                      # TypeScript Á±ªÂûãÂÆö‰πâ
‚îú‚îÄ‚îÄ .dtpl/                        # ‰ª£Á†ÅÊ®°ÊùøÔºàVSCode dot-templateÔºâ
‚îú‚îÄ‚îÄ package.json                  # È°πÁõÆ‰æùËµñÈÖçÁΩÆ
‚îú‚îÄ‚îÄ jsconfig.json                 # JavaScript ÈÖçÁΩÆ
‚îú‚îÄ‚îÄ .eslintrc                     # ESLint ÈÖçÁΩÆ
‚îú‚îÄ‚îÄ .babelrc                      # Babel ÈÖçÁΩÆÔºàË£ÖÈ•∞Âô®ÊîØÊåÅÔºâ
‚îî‚îÄ‚îÄ README.md                     # È°πÁõÆËØ¥ÊòéÊñáÊ°£
```

---

## ‰ª£Á†ÅËßÑËåÉ

### 1. ÂëΩÂêçËßÑËåÉ

#### Êñá‰ª∂ÂëΩÂêç
- **Controller**: È©ºÂ≥∞ÂëΩÂêçÔºåÂ¶Ç `user.js`„ÄÅ`dictType.js`
- **Service**: ‰∏é Controller ÂØπÂ∫îÔºåÂ¶Ç `user.js`„ÄÅ`dictType.js`
- **Mapper XML**: Â∏ïÊñØÂç°ÂëΩÂêçÔºåÂ¶Ç `SysUserMapper.xml`
- **Ëá™Âä®ÁîüÊàêÁöÑ Service**: ‰∏é Mapper XML ÂØπÂ∫îÔºåÂ¶Ç `SysUserMapper.js`

#### ÂèòÈáèÂëΩÂêç
- **È©ºÂ≥∞ÂëΩÂêç**: `userName`„ÄÅ`roleId`„ÄÅ`deptName`
- **Â∏∏Èáè**: Â§ßÂÜô‰∏ãÂàíÁ∫øÔºåÂ¶Ç `MAX_SIZE`„ÄÅ`DEFAULT_VALUE`
- **ÁßÅÊúâÂèòÈáè**: ‰∏ãÂàíÁ∫øÂâçÁºÄÔºåÂ¶Ç `_cache`„ÄÅ`_config`

#### ÂáΩÊï∞ÂëΩÂêç
- **Â¢û**: `add`„ÄÅ`create`„ÄÅ`insert`
- **Âà†**: `remove`„ÄÅ`delete`
- **Êîπ**: `edit`„ÄÅ`update`„ÄÅ`modify`
- **Êü•**: `list`„ÄÅ`get`„ÄÅ`select`„ÄÅ`query`
- **Êü•ËØ¢ÂàóË°®**: `selectXxxList`
- **Êü•ËØ¢ÂçïÊù°**: `selectXxxById`

### 2. ‰ª£Á†ÅÁªìÊûÑ

#### Controller ÁªìÊûÑ
```javascript
const Controller = require('egg').Controller;
const { Route, HttpGet, HttpPost, HttpPut, HttpDelete } = require('egg-decorator-router');
const { RequiresPermissions } = require('../../decorator/permission');

module.exports = app => {
  @Route('/api/system/xxx')
  class XxxController extends Controller {
    
    /**
     * Êü•ËØ¢ÂàóË°®
     * GET /api/system/xxx/list
     * ÊùÉÈôêÔºösystem:xxx:list
     */
    @RequiresPermissions('system:xxx:list')
    @HttpGet('/list')
    async list() {
      const { ctx } = this;
      const { pageNum = 1, pageSize = 10 } = ctx.request.body;
      
      const result = await ctx.service.system.xxx.selectXxxList(
        ctx.helper.page(ctx.request.body),
        ctx.request.body
      );
      
      ctx.body = result;
    }
    
    /**
     * Êü•ËØ¢ËØ¶ÊÉÖ
     * GET /api/system/xxx/:id
     */
    @RequiresPermissions('system:xxx:query')
    @HttpGet('/:id')
    async getInfo() {
      const { ctx } = this;
      const result = await ctx.service.system.xxx.selectXxxById(ctx.params.id);
      ctx.body = result;
    }
    
    /**
     * Êñ∞Â¢û
     * POST /api/system/xxx
     */
    @RequiresPermissions('system:xxx:add')
    @HttpPost('/')
    async add() {
      const { ctx } = this;
      const result = await ctx.service.system.xxx.insertXxx(ctx.request.body);
      ctx.body = result;
    }
    
    /**
     * ‰øÆÊîπ
     * PUT /api/system/xxx
     */
    @RequiresPermissions('system:xxx:edit')
    @HttpPut('/')
    async edit() {
      const { ctx } = this;
      const result = await ctx.service.system.xxx.updateXxx(ctx.request.body);
      ctx.body = result;
    }
    
    /**
     * Âà†Èô§
     * DELETE /api/system/xxx/:ids
     */
    @RequiresPermissions('system:xxx:remove')
    @HttpDelete('/:ids')
    async remove() {
      const { ctx } = this;
      const ids = ctx.params.ids.split(',');
      const result = await ctx.service.system.xxx.deleteXxxByIds(ids);
      ctx.body = result;
    }
  }
  
  return XxxController;
};
```

#### Service ÁªìÊûÑ
```javascript
const Service = require('egg').Service;

class XxxService extends Service {
  
  /**
   * Êü•ËØ¢ÂàóË°®
   */
  async selectXxxList(values, params) {
    const { ctx } = this;
    // Ë∞ÉÁî®Ëá™Âä®ÁîüÊàêÁöÑ DB Service
    const result = await ctx.service.db.mysql.ruoyi.sysXxxMapper.selectXxxList(
      values,
      params
    );
    return result;
  }
  
  /**
   * Êü•ËØ¢ËØ¶ÊÉÖ
   */
  async selectXxxById(id) {
    const { ctx } = this;
    const result = await ctx.service.db.mysql.ruoyi.sysXxxMapper.selectXxxById([id]);
    return result[0] || null;
  }
  
  /**
   * Êñ∞Â¢û
   */
  async insertXxx(data) {
    const { ctx } = this;
    const result = await ctx.service.db.mysql.ruoyi.sysXxxMapper.insertXxx([data]);
    return { code: 200, msg: 'Êñ∞Â¢ûÊàêÂäü', data: result };
  }
  
  /**
   * ‰øÆÊîπ
   */
  async updateXxx(data) {
    const { ctx } = this;
    const result = await ctx.service.db.mysql.ruoyi.sysXxxMapper.updateXxx([data]);
    return { code: 200, msg: '‰øÆÊîπÊàêÂäü', data: result };
  }
  
  /**
   * Âà†Èô§
   */
  async deleteXxxByIds(ids) {
    const { ctx } = this;
    const result = await ctx.service.db.mysql.ruoyi.sysXxxMapper.deleteXxxByIds([ids]);
    return { code: 200, msg: 'Âà†Èô§ÊàêÂäü', data: result };
  }
}

module.exports = XxxService;
```

#### Mapper XML ÁªìÊûÑ
```xml
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mapper.mysql.ruoyi.SysXxxMapper">

    <!-- ÈÄöÁî®Êü•ËØ¢ÁªìÊûúÂàó -->
    <sql id="selectXxxVo">
        select xxx_id, xxx_name, create_time, update_time
        from sys_xxx
    </sql>

    <!-- Êü•ËØ¢ÂàóË°® -->
    <select id="selectXxxList" parameterType="SysXxx" resultType="SysXxx">
        <include refid="selectXxxVo"/>
        <where>
            <if test="xxxName != null and xxxName != ''">
                AND xxx_name like concat('%', #{xxxName}, '%')
            </if>
        </where>
        order by create_time desc
        <if test="pageNum != null and pageSize != null">
            limit #{offset}, #{pageSize}
        </if>
    </select>

    <!-- Êü•ËØ¢ËØ¶ÊÉÖ -->
    <select id="selectXxxById" parameterType="Long" resultType="SysXxx">
        <include refid="selectXxxVo"/>
        where xxx_id = #{xxxId}
    </select>

    <!-- Êñ∞Â¢û -->
    <insert id="insertXxx" parameterType="SysXxx" useGeneratedKeys="true" keyProperty="xxxId">
        insert into sys_xxx
        <trim prefix="(" suffix=")" suffixOverrides=",">
            <if test="xxxName != null and xxxName != ''">xxx_name,</if>
            <if test="createBy != null">create_by,</if>
            create_time
        </trim>
        <trim prefix="values (" suffix=")" suffixOverrides=",">
            <if test="xxxName != null and xxxName != ''">#{xxxName},</if>
            <if test="createBy != null">#{createBy},</if>
            sysdate()
        </trim>
    </insert>

    <!-- ‰øÆÊîπ -->
    <update id="updateXxx" parameterType="SysXxx">
        update sys_xxx
        <set>
            <if test="xxxName != null and xxxName != ''">xxx_name = #{xxxName},</if>
            <if test="updateBy != null">update_by = #{updateBy},</if>
            update_time = sysdate()
        </set>
        where xxx_id = #{xxxId}
    </update>

    <!-- Âà†Èô§ -->
    <delete id="deleteXxxByIds" parameterType="Long">
        delete from sys_xxx where xxx_id in
        <foreach collection="array" item="xxxId" open="(" separator="," close=")">
            #{xxxId}
        </foreach>
    </delete>

</mapper>
```

### 3. ÊùÉÈôêÊéßÂà∂Ë£ÖÈ•∞Âô®

#### @RequiresPermissions - ÊùÉÈôêÈ™åËØÅ
```javascript
// Âçï‰∏™ÊùÉÈôê
@RequiresPermissions('system:user:list')

// Â§ö‰∏™ÊùÉÈôêÔºàAND ÈÄªËæë - ÈúÄË¶ÅÂêåÊó∂ÂÖ∑Â§áÔºâ
@RequiresPermissions(['system:user:list', 'system:user:query'], 'AND')

// Â§ö‰∏™ÊùÉÈôêÔºàOR ÈÄªËæë - ÂÖ∑Â§áÂÖ∂‰∏ÄÂç≥ÂèØÔºâ
@RequiresPermissions(['system:user:list', 'system:user:query'], 'OR')

// ÈÄöÈÖçÁ¨¶ÊùÉÈôê
@RequiresPermissions('system:*:*')  // ÊâÄÊúâ system Ê®°ÂùóÊùÉÈôê
@RequiresPermissions('*:*:*')       // ÊâÄÊúâÊùÉÈôêÔºàÁÆ°ÁêÜÂëòÔºâ
```

#### @RequiresRoles - ËßíËâ≤È™åËØÅ
```javascript
// Âçï‰∏™ËßíËâ≤
@RequiresRoles('admin')

// Â§ö‰∏™ËßíËâ≤ÔºàAND ÈÄªËæëÔºâ
@RequiresRoles(['admin', 'editor'], 'AND')

// Â§ö‰∏™ËßíËâ≤ÔºàOR ÈÄªËæëÔºâ
@RequiresRoles(['admin', 'editor'], 'OR')
```

#### @RequiresAuth - ÁªÑÂêàÈ™åËØÅ
```javascript
// ÂêåÊó∂È™åËØÅËßíËâ≤ÂíåÊùÉÈôê
@RequiresAuth({
  roles: ['admin'],
  permissions: ['system:user:list'],
  logical: 'AND'
})
```

### 4. ÂìçÂ∫îÊ†ºÂºè

#### ÊàêÂäüÂìçÂ∫î
```json
{
  "code": 200,
  "msg": "Êìç‰ΩúÊàêÂäü",
  "data": {
    // ‰∏öÂä°Êï∞ÊçÆ
  }
}
```

#### ÂàÜÈ°µÂìçÂ∫î
```json
{
  "code": 200,
  "msg": "Êü•ËØ¢ÊàêÂäü",
  "rows": [...],
  "total": 100
}
```

#### ÈîôËØØÂìçÂ∫î
```json
{
  "code": 500,
  "msg": "ÈîôËØØ‰ø°ÊÅØ"
}
```

### 5. Â∏∏Áî®ËæÖÂä©ÂáΩÊï∞

#### ctx.helper.page() - ÂàÜÈ°µÂèÇÊï∞
```javascript
// Â∞ÜÂâçÁ´Ø‰º†ÂÖ•ÁöÑ pageNum„ÄÅpageSize ËΩ¨Êç¢‰∏∫Êï∞ÊçÆÂ∫ì offset
const values = ctx.helper.page(ctx.request.body);
// ËøîÂõû: { offset: 0, pageSize: 10 }
```

#### ctx.helper.formatDate() - Êó•ÊúüÊ†ºÂºèÂåñ
```javascript
const formattedDate = ctx.helper.formatDate(new Date(), 'YYYY-MM-DD HH:mm:ss');
```

#### ctx.app.cache - ÁºìÂ≠òÊìç‰Ωú
```javascript
// ËÆæÁΩÆÁºìÂ≠ò
await ctx.app.cache.default.set('key', value, { ttl: 600 });

// Ëé∑ÂèñÁºìÂ≠ò
const value = await ctx.app.cache.default.get('key');

// Âà†Èô§ÁºìÂ≠ò
await ctx.app.cache.default.del('key');

// Â∏¶ÂõûË∞ÉÁöÑÁºìÂ≠òÔºà‰∏çÂ≠òÂú®Êó∂Ëá™Âä®ÊâßË°åÂõûË∞ÉÂπ∂ÁºìÂ≠òÔºâ
const value = await ctx.app.cache.default.wrap('key', async () => {
  return await fetchDataFromDb();
}, { ttl: 600 });
```

---

## ÂºÄÂèëÂ∑•‰ΩúÊµÅ

### 1. Êñ∞Â¢ûÂäüËÉΩÊ®°Âùó

#### Ê≠•È™§ 1ÔºöÁºñÂÜô Mapper XML
```bash
# Âú® mapper/mysql/ruoyi/ ÁõÆÂΩï‰∏ãÂàõÂª∫ XML Êñá‰ª∂
# ‰æãÂ¶ÇÔºöSysXxxMapper.xml
```

#### Ê≠•È™§ 2ÔºöËá™Âä®ÁîüÊàê Service
```bash
# ÂºÄÂèëÊ®°Âºè‰ºöËá™Âä®ÁõëÂê¨ XML ÂèòÂåñÂπ∂ÁîüÊàê‰ª£Á†Å
npm run dev

# ÊàñÊâãÂä®ÁîüÊàê
npm run mapper
```

#### Ê≠•È™§ 3ÔºöÁºñÂÜô Service ‰∏öÂä°ÈÄªËæë
```bash
# Âú® app/service/system/ ÁõÆÂΩï‰∏ãÂàõÂª∫ÂØπÂ∫îÁöÑ Service
# ‰æãÂ¶ÇÔºöxxx.js
```

#### Ê≠•È™§ 4ÔºöÁºñÂÜô Controller
```bash
# Âú® app/controller/system/ ÁõÆÂΩï‰∏ãÂàõÂª∫ÂØπÂ∫îÁöÑ Controller
# ‰æãÂ¶ÇÔºöxxx.js
```

#### Ê≠•È™§ 5ÔºöÊ∑ªÂä†ÊùÉÈôêÊ≥®Ëß£
```javascript
// ‰ΩøÁî® @RequiresPermissions Ë£ÖÈ•∞Âô®Ê∑ªÂä†ÊùÉÈôêÊéßÂà∂
@RequiresPermissions('system:xxx:list')
```

#### Ê≠•È™§ 6ÔºöÊµãËØïÊé•Âè£
```bash
# ‰ΩøÁî® Postman„ÄÅcurl ÊàñÂâçÁ´ØÈ°πÁõÆÊµãËØï
```

### 2. ‰øÆÊîπÁé∞ÊúâÂäüËÉΩ

#### ‰øÆÊîπ SQL
- ÁºñËæë `mapper/mysql/ruoyi/XxxMapper.xml`
- ‰øùÂ≠òÂêé‰ºöËá™Âä®ÈáçÊñ∞ÁîüÊàê ServiceÔºàÂºÄÂèëÊ®°ÂºèÔºâ

#### ‰øÆÊîπ‰∏öÂä°ÈÄªËæë
- ÁºñËæë `app/service/system/xxx.js`
- Êó†ÈúÄÈáçÂêØÊúçÂä°ÔºàÁÉ≠ÈáçËΩΩÔºâ

#### ‰øÆÊîπÊé•Âè£
- ÁºñËæë `app/controller/system/xxx.js`
- Êó†ÈúÄÈáçÂêØÊúçÂä°ÔºàÁÉ≠ÈáçËΩΩÔºâ

### 3. Â∏∏Áî®ÂëΩ‰ª§

```bash
# ÂºÄÂèëÊ®°ÂºèÔºàÊé®ËçêÔºâ
npm run dev          # Mapper Ëá™Âä®ÁîüÊàê + Ë∞ÉËØïÊúçÂä° + ÁÉ≠ÈáçËΩΩ

# ÂçïÁã¨ËøêË°å
npm run mapper       # ‰ªÖÁîüÊàê Mapper Service
npm run debug        # ‰ªÖÂêØÂä®Ë∞ÉËØïÊúçÂä°

# Áîü‰∫ßÊ®°Âºè
npm start            # ÂêØÂä®Áîü‰∫ßÊúçÂä°ÔºàÂêéÂè∞ÂÆàÊä§ËøõÁ®ãÔºâ
npm stop             # ÂÅúÊ≠¢Áîü‰∫ßÊúçÂä°

# ÂÖ∂‰ªñ
npm run lint         # ‰ª£Á†ÅÊ£ÄÊü•
npm test             # ËøêË°åÊµãËØï
```

---

## ÈÖçÁΩÆËØ¥Êòé

### ÁéØÂ¢ÉÈÖçÁΩÆÊñá‰ª∂

- **config.default.js**: ÊâÄÊúâÁéØÂ¢ÉÁöÑÈªòËÆ§ÈÖçÁΩÆ
- **config.local.js**: Êú¨Âú∞ÂºÄÂèëÈÖçÁΩÆÔºà‰ºòÂÖàÁ∫ßÈ´òÔºâ
- **config.prod.js**: Áîü‰∫ßÁéØÂ¢ÉÈÖçÁΩÆÔºà‰ºòÂÖàÁ∫ßÈ´òÔºâ

### ÈáçË¶ÅÈÖçÁΩÆÈ°π

#### JWT ÈÖçÁΩÆ
```javascript
config.jwt = {
  enable: true,
  match: /^\/api[\/]?((?!version|login|register|captcha).)*$/i,
  secret: 'z2Em*CpGBZDw+',  // Áîü‰∫ßÁéØÂ¢ÉÂøÖÈ°ª‰øÆÊîπ
  expiresIn: '7d',
  getToken(ctx) { /* ... */ },
  isRevoked: async (ctx, payload) => { /* ... */ }
};
```

#### Êï∞ÊçÆÂ∫ìÈÖçÁΩÆ
```javascript
config.mysql = {
  default: {
    port: 3306,
    charset: 'utf8mb4',
    multipleStatements: true,
    connectionLimit: 100,
  },
  clients: {
    ruoyi: {
      host: '127.0.0.1',
      user: 'root',
      password: 'your_password',
      database: 'ruoyi',
    },
  },
};
```

#### ÁºìÂ≠òÈÖçÁΩÆ
```javascript
config.cache = {
  default: 'redis',  // ÈªòËÆ§‰ΩøÁî® RedisÔºåÂèØÈÄâ 'memory'„ÄÅ'fs'
  ttl: 600,          // ÈªòËÆ§ TTLÔºàÁßíÔºâ
  redis: {
    host: '127.0.0.1',
    port: 6379,
    password: '',
    db: 0,
  },
};
```

#### ÈôêÊµÅÈÖçÁΩÆ
```javascript
config.ratelimiter = {
  points: 100,       // ÂÖÅËÆ∏ÁöÑËØ∑Ê±ÇÊ¨°Êï∞
  duration: 60,      // Êó∂Èó¥Á™óÂè£ÔºàÁßíÔºâ
  redis: { /* ... */ }
};
```

---

## Êï∞ÊçÆÂ∫ìËÆæËÆ°

### Ê†∏ÂøÉË°®

- **sys_user**: Áî®Êà∑‰ø°ÊÅØË°®
- **sys_role**: ËßíËâ≤‰ø°ÊÅØË°®
- **sys_menu**: ËèúÂçïÊùÉÈôêË°®
- **sys_dept**: ÈÉ®Èó®‰ø°ÊÅØË°®
- **sys_post**: Â≤ó‰Ωç‰ø°ÊÅØË°®
- **sys_user_role**: Áî®Êà∑ËßíËâ≤ÂÖ≥ËÅîË°®
- **sys_role_menu**: ËßíËâ≤ËèúÂçïÂÖ≥ËÅîË°®
- **sys_role_dept**: ËßíËâ≤ÈÉ®Èó®ÂÖ≥ËÅîË°®
- **sys_user_post**: Áî®Êà∑Â≤ó‰ΩçÂÖ≥ËÅîË°®
- **sys_dict_type**: Â≠óÂÖ∏Á±ªÂûãË°®
- **sys_dict_data**: Â≠óÂÖ∏Êï∞ÊçÆË°®
- **sys_config**: ÂèÇÊï∞ÈÖçÁΩÆË°®
- **sys_notice**: ÈÄöÁü•ÂÖ¨ÂëäË°®
- **sys_logininfor**: ÁôªÂΩïÊó•ÂøóË°®
- **sys_oper_log**: Êìç‰ΩúÊó•ÂøóË°®
- **sys_job_log**: ÂÆöÊó∂‰ªªÂä°Êó•ÂøóË°®

ËØ¶ÁªÜËÆæËÆ°ÂèÇËÄÉÔºö`docs/DATABASE_DESIGN.md`

---

## API ËßÑËåÉ

### Ë∑ØÁî±ËßÑËåÉ

```
/api/system/Ê®°Âùó/Êìç‰Ωú
```

### HTTP ÊñπÊ≥ï
- **GET**: Êü•ËØ¢Êìç‰Ωú
- **POST**: Êñ∞Â¢ûÊìç‰Ωú
- **PUT**: ‰øÆÊîπÊìç‰Ωú
- **DELETE**: Âà†Èô§Êìç‰Ωú

### ÊùÉÈôêÊ†áËØÜÁ¨¶ËßÑËåÉ

```
Ê®°Âùó:Â≠êÊ®°Âùó:Êìç‰Ωú
```

Á§∫‰æãÔºö
- `system:user:list` - Áî®Êà∑ÂàóË°®Êü•ËØ¢
- `system:user:query` - Áî®Êà∑ËØ¶ÊÉÖÊü•ËØ¢
- `system:user:add` - Êñ∞Â¢ûÁî®Êà∑
- `system:user:edit` - ‰øÆÊîπÁî®Êà∑
- `system:user:remove` - Âà†Èô§Áî®Êà∑
- `system:role:*` - ËßíËâ≤Ê®°ÂùóÊâÄÊúâÊùÉÈôê
- `*:*:*` - ÊâÄÊúâÊùÉÈôêÔºàË∂ÖÁ∫ßÁÆ°ÁêÜÂëòÔºâ

### ËØ∑Ê±ÇÂèÇÊï∞
- **ÂàÜÈ°µÂèÇÊï∞**: `pageNum`„ÄÅ`pageSize`
- **Êü•ËØ¢ÂèÇÊï∞**: ‰∏éÊï∞ÊçÆÂ∫ìÂ≠óÊÆµÂØπÂ∫îÁöÑÈ©ºÂ≥∞ÂëΩÂêç
- **Êó•ÊúüËåÉÂõ¥**: `beginTime`„ÄÅ`endTime`

### ÂìçÂ∫îÊï∞ÊçÆ
- **ÂàóË°®Êü•ËØ¢**: `{ rows: [], total: 0 }`
- **ËØ¶ÊÉÖÊü•ËØ¢**: `{ data: {} }`
- **Â¢ûÂà†Êîπ**: `{ code: 200, msg: 'Êìç‰ΩúÊàêÂäü' }`

---

## Â∏∏ËßÅÈóÆÈ¢ò

### 1. Â¶Ç‰ΩïÊñ∞Â¢û‰∏Ä‰∏™Ê®°ÂùóÔºü

ÂèÇËÄÉ [ÂºÄÂèëÂ∑•‰ΩúÊµÅ - Êñ∞Â¢ûÂäüËÉΩÊ®°Âùó](#1-Êñ∞Â¢ûÂäüËÉΩÊ®°Âùó)

### 2. Mapper XML ‰øÆÊîπÂêéÊ≤°ÊúâÁîüÊïàÔºü

**ÊñπÊ°à 1**: Á°Æ‰øùËøêË°åÁöÑÊòØ `npm run dev`Ôºà‰ºöËá™Âä®ÁõëÂê¨ÂèòÂåñÔºâ  
**ÊñπÊ°à 2**: ÊâãÂä®ÊâßË°å `npm run mapper` ÈáçÊñ∞ÁîüÊàê  
**ÊñπÊ°à 3**: ÈáçÂêØÊúçÂä°

### 3. Â¶Ç‰ΩïË∞ÉËØï SQLÔºü

Âú®Ëá™Âä®ÁîüÊàêÁöÑ Service ‰∏≠ÔºåÂèØ‰ª•ÊâìÂç∞ SQLÔºö

```javascript
const sql = this.selectUserListMapper(values, params);
ctx.logger.info('SQL:', sql);
```

### 4. Â¶Ç‰ΩïÊ∑ªÂä†ÊùÉÈôêÊéßÂà∂Ôºü

Âú® Controller ÊñπÊ≥ï‰∏äÊ∑ªÂä† `@RequiresPermissions` Ë£ÖÈ•∞Âô®Ôºö

```javascript
@RequiresPermissions('system:user:list')
@HttpGet('/list')
async list() { /* ... */ }
```

### 5. Â¶Ç‰Ωï‰ΩøÁî®ÁºìÂ≠òÔºü

```javascript
// ÊñπÂºè 1ÔºöÁõ¥Êé•‰ΩøÁî®
await ctx.app.cache.default.set('key', value);
const value = await ctx.app.cache.default.get('key');

// ÊñπÂºè 2ÔºöÂ∏¶ÂõûË∞ÉÔºàÊé®ËçêÔºâ
const value = await ctx.app.cache.default.wrap('key', async () => {
  return await fetchData();
});
```

### 6. Â¶Ç‰Ωï‰∏ä‰º†Êñá‰ª∂Ôºü

Ë∞ÉÁî®ÂÖ¨ÂÖ±‰∏ä‰º†Êé•Âè£Ôºö`POST /api/common/upload`

```javascript
const formData = new FormData();
formData.append('file', file);
const response = await axios.post('/api/common/upload', formData);
```

### 7. Ë∑®ÂüüÈóÆÈ¢òÂ¶Ç‰ΩïËß£ÂÜ≥Ôºü

Â∑≤Âú® `config.default.js` ‰∏≠ÈÖçÁΩÆ CORSÔºåÂ¶ÇÈúÄË∞ÉÊï¥Ôºö

```javascript
config.cors = {
  allowMethods: 'GET,POST,PUT,DELETE',
  credentials: true,
  origin: 'http://localhost:8080',  // ÈÖçÁΩÆÂÖ∑‰ΩìÂüüÂêç
};
```

### 8. Â¶Ç‰ΩïËé∑ÂèñÂΩìÂâçÁôªÂΩïÁî®Êà∑Ôºü

Âú® Controller Êàñ Service ‰∏≠Ôºö

```javascript
const user = ctx.state.user;
const userId = user.userId;
const userName = user.userName;
```

### 9. Optional Chaining ËØ≠Ê≥ïÈîôËØØÔºü

Node.js 20+ ÊîØÊåÅÂèØÈÄâÈìæÔºå‰ΩÜÂ¶ÇÊûúÈÅáÂà∞ÈóÆÈ¢òÔºåÊîπ‰∏∫Ôºö

```javascript
// ‰∏çÊé®Ëçê
const value = obj?.prop?.value;

// Êé®Ëçê
const obj2 = obj || {};
const prop = obj2.prop || {};
const value = prop.value;
```

### 10. Â¶Ç‰ΩïÈÉ®ÁΩ≤Âà∞Áîü‰∫ßÁéØÂ¢ÉÔºü

ÂèÇËÄÉ [ÈÉ®ÁΩ≤ËØ¥Êòé](#ÈÉ®ÁΩ≤ËØ¥Êòé)ÔºåÊé®Ëçê‰ΩøÁî® PM2 Êàñ Docker„ÄÇ

---

## ÂºÄÂèëÂª∫ËÆÆ

### ‰ª£Á†ÅË¥®Èáè
1. **ÈÅµÂæ™ ESLint ËßÑËåÉ**: ‰øùÊåÅ‰ª£Á†ÅÈ£éÊ†º‰∏ÄËá¥
2. **Ê∑ªÂä†Ê≥®Èáä**: Â§çÊùÇÈÄªËæëÂøÖÈ°ªÊ∑ªÂä†Ê≥®Èáä
3. **ÈîôËØØÂ§ÑÁêÜ**: ‰ΩøÁî® try-catch ÊçïËé∑ÂºÇÂ∏∏
4. **Êó•ÂøóËÆ∞ÂΩï**: ÂÖ≥ÈîÆÊìç‰ΩúËÆ∞ÂΩïÊó•ÂøóÔºà`ctx.logger`Ôºâ

### ÂÆâÂÖ®ÊÄß
1. **JWT Secret**: Áîü‰∫ßÁéØÂ¢ÉÂøÖÈ°ª‰øÆÊîπ
2. **SQL Ê≥®ÂÖ•**: ‰ΩøÁî®ÂèÇÊï∞ÂåñÊü•ËØ¢ÔºàMyBatis Ëá™Âä®Â§ÑÁêÜÔºâ
3. **XSS Èò≤Êä§**: ÂâçÁ´ØËæìÂÖ•È™åËØÅÂíåËΩ¨‰πâ
4. **ÊùÉÈôêÊéßÂà∂**: ÊâÄÊúâÊïèÊÑüÊé•Âè£Ê∑ªÂä† `@RequiresPermissions`
5. **ÂØÜÁ†ÅÂä†ÂØÜ**: ‰ΩøÁî® bcryptjs Âä†ÂØÜÂ≠òÂÇ®

### ÊÄßËÉΩ‰ºòÂåñ
1. **‰ΩøÁî®ÁºìÂ≠ò**: È¢ëÁπÅÊü•ËØ¢ÁöÑÊï∞ÊçÆÁºìÂ≠ò
2. **ÂàÜÈ°µÊü•ËØ¢**: Â§ßÊï∞ÊçÆÈáèÂøÖÈ°ªÂàÜÈ°µ
3. **Á¥¢Âºï‰ºòÂåñ**: Êï∞ÊçÆÂ∫ìË°®Ê∑ªÂä†ÂêàÈÄÇÁöÑÁ¥¢Âºï
4. **ËøûÊé•Ê±†**: ÈÖçÁΩÆÂêàÁêÜÁöÑÊï∞ÊçÆÂ∫ìËøûÊé•Ê±†Â§ßÂ∞è
5. **ÈôêÊµÅ‰øùÊä§**: È´òÈ¢ëÊé•Âè£ÂêØÁî®ÈôêÊµÅ

### ÂèØÁª¥Êä§ÊÄß
1. **Ê®°ÂùóÂåñ**: ÂäüËÉΩÊåâÊ®°ÂùóÂàíÂàÜ
2. **ÂëΩÂêçËßÑËåÉ**: Áªü‰∏ÄÁöÑÂëΩÂêçÈ£éÊ†º
3. **ÊñáÊ°£ÂÆåÂñÑ**: ÂèäÊó∂Êõ¥Êñ∞ÊñáÊ°£
4. **ÁâàÊú¨ÊéßÂà∂**: ‰ΩøÁî® Git ËøõË°åÁâàÊú¨ÁÆ°ÁêÜ
5. **ÂçïÂÖÉÊµãËØï**: Ê†∏ÂøÉÂäüËÉΩÁºñÂÜôÊµãËØïÁî®‰æã

---

## Âø´ÈÄüÂèÇËÄÉ

### Ë£ÖÈ•∞Âô®

| Ë£ÖÈ•∞Âô® | ËØ¥Êòé | Á§∫‰æã |
|--------|------|------|
| `@Route` | ÂÆö‰πâË∑ØÁî±ÂâçÁºÄ | `@Route('/api/system/user')` |
| `@HttpGet` | GET ËØ∑Ê±Ç | `@HttpGet('/list')` |
| `@HttpPost` | POST ËØ∑Ê±Ç | `@HttpPost('/')` |
| `@HttpPut` | PUT ËØ∑Ê±Ç | `@HttpPut('/')` |
| `@HttpDelete` | DELETE ËØ∑Ê±Ç | `@HttpDelete('/:ids')` |
| `@RequiresPermissions` | ÊùÉÈôêÈ™åËØÅ | `@RequiresPermissions('system:user:list')` |
| `@RequiresRoles` | ËßíËâ≤È™åËØÅ | `@RequiresRoles('admin')` |
| `@RequiresAuth` | ÁªÑÂêàÈ™åËØÅ | `@RequiresAuth({roles: ['admin']})` |

### Â∏∏Áî®Ë∑ØÂæÑ

```javascript
// Controller
ctx.service.system.user
ctx.service.monitor.cache
ctx.service.tool.gen

// Ëá™Âä®ÁîüÊàêÁöÑ DB Service
ctx.service.db.mysql.ruoyi.sysUserMapper
ctx.service.db.mysql.ruoyi.sysRoleMapper

// Helper
ctx.helper.page()
ctx.helper.formatDate()

// Cache
ctx.app.cache.default.get()
ctx.app.cache.default.set()

// Logger
ctx.logger.info()
ctx.logger.error()
ctx.logger.warn()

// ÂΩìÂâçÁî®Êà∑
ctx.state.user
```

### ÊñáÊ°£Á¥¢Âºï

- **API Êò†Â∞Ñ**: `docs/API_MAPPING.md`
- **ÊùÉÈôêÊéßÂà∂**: `docs/PERMISSION_GUIDE.md`
- **ËÆ§ËØÅÊéàÊùÉ**: `docs/AUTH_MODULE_README.md`
- **Âø´ÈÄüÂºÄÂßã**: `docs/QUICK_START_AUTH.md`
- **ÂêÑÊ®°Âùó API**: `docs/*_MANAGEMENT_API.md`
- **È°πÁõÆÂàÜÊûê**: `docs/PROJECT_ANALYSIS_SUMMARY.md`
- **Êû∂ÊûÑÂØπÊØî**: `docs/ARCHITECTURE_COMPARISON.md`

---

## AI ËæÖÂä©ÊèêÁ§∫

ÂΩì‰ΩøÁî® AI ËæÖÂä©ÂºÄÂèëÊó∂ÔºåËØ∑ÈÅµÂæ™‰ª•‰∏ãÂéüÂàôÔºö

1. **ÊòéÁ°ÆÈúÄÊ±Ç**: Ê∏ÖÊ•öËØ¥ÊòéË¶ÅÂÆûÁé∞ÁöÑÂäüËÉΩ
2. **Êèê‰æõ‰∏ä‰∏ãÊñá**: ÊåáÂÆöÁõ∏ÂÖ≥ÁöÑÊ®°ÂùóÂíåÊñá‰ª∂
3. **ÈÅµÂæ™ËßÑËåÉ**: ÁîüÊàêÁöÑ‰ª£Á†ÅÂ∫îÁ¨¶ÂêàÈ°πÁõÆËßÑËåÉ
4. **ÊùÉÈôêÊéßÂà∂**: Êñ∞Â¢ûÊé•Âè£‰∏çË¶ÅÂøòËÆ∞Ê∑ªÂä†ÊùÉÈôêÊ≥®Ëß£
5. **ÂÆåÊï¥ÂÆûÁé∞**: Controller„ÄÅService„ÄÅMapper ‰∏âÂ±ÇÈÉΩË¶ÅÂÆûÁé∞
6. **ÊµãËØïÈ™åËØÅ**: ÁîüÊàê‰ª£Á†ÅÂêéÈúÄË¶ÅÊµãËØïÈ™åËØÅ

### Â∏∏Áî® AI Êåá‰ª§Á§∫‰æã

```
# Êñ∞Â¢ûÊ®°Âùó
"Â∏ÆÊàëÂàõÂª∫‰∏Ä‰∏™ÂïÜÂìÅÁÆ°ÁêÜÊ®°ÂùóÔºåÂåÖÊã¨ Controller„ÄÅService Âíå Mapper XMLÔºå
ÊîØÊåÅÂ¢ûÂà†ÊîπÊü•ÂíåÂàÜÈ°µÔºåÊùÉÈôêÊ†áËØÜÁ¨¶‰ΩøÁî® system:goods:*"

# ‰øÆÊîπÂäüËÉΩ
"‰øÆÊîπÁî®Êà∑ÂàóË°®Êü•ËØ¢Êé•Âè£ÔºåÂ¢ûÂä†ÊåâÈÉ®Èó® ID Á≠õÈÄâÁöÑÂäüËÉΩ"

# Ê∑ªÂä†ÊùÉÈôê
"‰∏∫ÊâÄÊúâÁ≥ªÁªüÁÆ°ÁêÜÊ®°ÂùóÁöÑ Controller Ê∑ªÂä† @RequiresPermissions Ë£ÖÈ•∞Âô®"

# ‰ºòÂåñÊÄßËÉΩ
"‰ºòÂåñÁî®Êà∑ÂàóË°®Êü•ËØ¢ÁöÑ SQLÔºåÊ∑ªÂä†Á¥¢ÂºïÂíåÁºìÂ≠ò"

# ‰øÆÂ§ç Bug
"‰øÆÂ§çÁôªÂΩïÊó•ÂøóÊü•ËØ¢Êó∂Êó•ÊúüËåÉÂõ¥Á≠õÈÄâ‰∏çÁîüÊïàÁöÑÈóÆÈ¢ò"
```

---

