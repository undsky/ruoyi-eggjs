# RuoYi-Eggjs 重构文档中心

## 📚 文档导航

欢迎查阅 RuoYi Spring Boot 到 Egg.js 重构的完整技术文档。

---

## 🚀 快速开始

### 1️⃣ 第一步：了解可行性

**推荐阅读**：[项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md)

- ⏱️ 阅读时长：15 分钟
- 📋 内容概要：
  - 重构可行性评估
  - 工作量和时间评估
  - 技术优势分析
  - 风险与收益评估

---

### 2️⃣ 第二步：制定实施计划

**推荐阅读**：[详细重构计划](./REFACTORING_PLAN.md)

- ⏱️ 阅读时长：1 小时
- 📋 内容概要：
  - 两个项目架构完整对比
  - 核心功能模块清单（18 个）
  - 数据库表结构分析（15 张）
  - 分 8 个阶段的实施路线图
  - 技术实施细节和最佳实践
  - 测试和部署方案

---

### 3️⃣ 第三步：查阅技术参考

根据开发阶段查阅以下参考文档：

---

## 📖 技术文档清单

### 核心文档

| 文档 | 说明 | 适用场景 |
|------|------|---------|
| **[📋 项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md)** | 重构可行性、收益和风险分析 | 项目启动前 |
| **[📖 详细重构计划](./REFACTORING_PLAN.md)** | 完整的重构实施方案 | 项目规划和执行 |

### 参考文档

| 文档 | 说明 | 适用场景 |
|------|------|---------|
| **[🔄 API 接口映射表](./API_MAPPING.md)** | 122 个接口完整映射 | 实现 Controller 层 |
| **[🗄️ 数据库设计文档](./DATABASE_DESIGN.md)** | 15 张表设计、索引优化 | 数据库操作和优化 |
| **[⚖️ 架构对比分析](./ARCHITECTURE_COMPARISON.md)** | 技术栈、代码风格全面对比 | 技术选型和架构设计 |

---

## 📂 文档详细说明

### 1. 项目分析总结 (PROJECT_ANALYSIS_SUMMARY.md)

**核心内容**：
- ✅ 已完成的基础设施（15%）
- ⚠️ 待实现功能模块（20 个）
- 📊 工作量评估（35 个工作日）
- 🔑 关键技术点（MyBatis、JWT、数据权限）
- 🚀 实施路线图（5 个阶段）
- 💡 技术优势分析（性能、成本、效率）
- 📝 风险评估和应对措施

**推荐指数**：⭐⭐⭐⭐⭐

**适合人群**：
- 项目经理
- 技术负责人
- 架构师
- 需要快速了解项目的开发者

---

### 2. 详细重构计划 (REFACTORING_PLAN.md)

**核心内容**：

#### 第一章：项目架构对比
- Spring Boot 项目结构（6 个模块）
- Egg.js 项目结构
- 技术栈对比表

#### 第二章：核心功能模块
- 18 个功能模块详细说明
- 每个模块的 Controller、Service、Mapper 分析
- 功能清单和待实现列表

#### 第三章：数据库表结构
- 15 张核心系统表
- 表关系和依赖分析
- 已生成的 Mapper 文件清单

#### 第四章：重构实施计划
- **阶段一**：用户认证与权限体系（Week 1-2）
- **阶段二**：组织架构管理（Week 3）
- **阶段三**：系统配置管理（Week 4）
- **阶段四**：日志监控管理（Week 5）
- **阶段五**：系统监控模块（Week 6）
- **阶段六**：扩展功能模块（Week 7-8）

#### 第五章：技术实施细节
- 核心工具类迁移（Java → Node.js）
- 中间件设计（5 个核心中间件）
- 响应格式统一
- 异常处理机制
- 数据权限实现（含代码示例）

#### 第六章：重构检查清单
- 功能完整性检查
- 性能优化检查
- 安全性检查
- 代码质量检查

#### 第七章：测试计划
- 单元测试（egg-mock）
- 接口测试（Postman/Apifox）
- 性能测试（JMeter/Artillery）
- 安全测试

#### 第八章：部署方案
- 开发环境部署
- 生产环境部署（PM2/Docker）
- Nginx 反向代理配置

**推荐指数**：⭐⭐⭐⭐⭐

**适合人群**：
- 开发团队成员
- 架构师
- 需要详细实施指南的技术人员

---

### 3. API 接口映射表 (API_MAPPING.md)

**核心内容**：
- 122 个接口完整映射（Spring Boot ↔ Egg.js）
- 按模块分类：
  - 认证授权模块（6 个接口）
  - 系统管理模块（80+ 个接口）
  - 系统监控模块（30+ 个接口）
  - 系统工具模块（12 个接口）
  - 个人中心模块（4 个接口）
  - 公共接口模块（3 个接口）
- 响应格式统一说明
- HTTP 状态码说明
- 分页参数说明
- 时间格式说明
- 导出功能说明

**推荐指数**：⭐⭐⭐⭐

**适合人群**：
- Controller 层开发者
- API 接口测试人员
- 前端对接人员

**使用场景**：
- 实现 Controller 接口时快速查找对应的 Spring Boot 接口
- 前后端联调时确认接口路径和参数
- 接口测试时参考请求格式

---

### 4. 数据库设计文档 (DATABASE_DESIGN.md)

**核心内容**：

#### 第一部分：数据库概览
- 数据库基本信息
- 核心表数量（15 张）
- 字符集和引擎配置

#### 第二部分：核心表结构
详细设计 15 张表：
1. **sys_user** - 用户信息表
2. **sys_dept** - 部门表（树形结构）
3. **sys_post** - 岗位表
4. **sys_role** - 角色表
5. **sys_menu** - 菜单权限表（树形结构）
6. **sys_user_role** - 用户-角色关联表
7. **sys_user_post** - 用户-岗位关联表
8. **sys_role_menu** - 角色-菜单关联表
9. **sys_role_dept** - 角色-部门关联表
10. **sys_dict_type** - 字典类型表
11. **sys_dict_data** - 字典数据表
12. **sys_config** - 参数配置表
13. **sys_notice** - 通知公告表
14. **sys_oper_log** - 操作日志表
15. **sys_logininfor** - 登录日志表

每张表包含：
- 完整的 CREATE TABLE 语句
- 字段说明和取值范围
- 索引设计
- 业务逻辑说明

#### 第三部分：数据库关系图
- 表关系图（文字版）
- 外键和关联关系说明

#### 第四部分：索引设计
- 主键索引
- 唯一索引
- 普通索引
- 联合主键

#### 第五部分：数据权限实现
- 5 种数据范围类型
- SQL 实现原理
- Egg.js 实现示例

#### 第六部分：逻辑删除设计
- del_flag 字段使用
- 优点和注意事项

#### 第七部分：树形结构设计
- ancestors（祖级列表）模式
- 查询子树的 SQL 示例

#### 第八部分：性能优化建议
- 索引优化
- 分区表（可选）
- 归档策略
- 缓存策略

#### 第九部分：数据迁移脚本
- 初始化脚本位置
- 执行步骤

#### 第十部分：备份恢复策略
- 备份策略（全量 + 增量）
- 备份脚本示例

**推荐指数**：⭐⭐⭐⭐⭐

**适合人群**：
- 数据库设计人员
- Service 层开发者
- DBA

**使用场景**：
- 理解数据库表结构和关系
- 编写 SQL 查询
- 数据库性能优化
- 数据权限实现

---

### 5. 架构对比分析 (ARCHITECTURE_COMPARISON.md)

**核心内容**：

#### 第一章：技术栈对比
- 后端框架对比
- 数据库操作对比
- 缓存策略对比
- 权限认证对比
- 日志管理对比

#### 第二章：项目结构对比
- Spring Boot 项目结构（模块化）
- Egg.js 项目结构（扁平化）
- 优缺点分析

#### 第三章：代码风格对比
- Controller 层代码对比
- Service 层代码对比
- Mapper 层代码对比
- 注解 vs 装饰器

#### 第四章：关键功能实现对比
- 数据权限实现
- 操作日志实现
- 分页查询实现
- 参数校验实现

#### 第五章：性能对比
- 并发性能对比表
- QPS 对比数据
- 内存占用对比
- 启动速度对比

#### 第六章：开发效率对比
- 上手难度
- 代码量
- 热更新
- 调试难度
- 生态丰富度

#### 第七章：适用场景
- Spring Boot 适合的场景
- Egg.js 适合的场景

#### 第八章：迁移建议
- 完全兼容的部分（100%）
- 需要重写的部分
- 渐进式迁移策略

#### 第九章：总结
- 技术选型建议表
- 最佳实践

**推荐指数**：⭐⭐⭐⭐⭐

**适合人群**：
- 架构师
- 技术选型决策者
- 需要深入理解两个框架差异的开发者

**使用场景**：
- 技术选型决策
- 向团队说明重构方案
- 学习 Spring Boot 和 Egg.js 的最佳实践

---

## 🎯 按角色推荐阅读

### 项目经理 / 技术负责人
1. ⭐ [项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md) - 必读
2. 📖 [详细重构计划](./REFACTORING_PLAN.md) - 第一、二、四章
3. ⚖️ [架构对比分析](./ARCHITECTURE_COMPARISON.md) - 第五、六、七章

**关注点**：可行性、工期、成本、风险

---

### 架构师 / 技术专家
1. ⭐ [项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md) - 必读
2. 📖 [详细重构计划](./REFACTORING_PLAN.md) - 全文
3. ⚖️ [架构对比分析](./ARCHITECTURE_COMPARISON.md) - 全文
4. 🗄️ [数据库设计文档](./DATABASE_DESIGN.md) - 第五、七、八章

**关注点**：技术方案、性能优化、架构设计

---

### 后端开发工程师
1. ⭐ [项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md) - 快速浏览
2. 📖 [详细重构计划](./REFACTORING_PLAN.md) - 第四、五章
3. 🔄 [API 接口映射表](./API_MAPPING.md) - 工作中查阅
4. 🗄️ [数据库设计文档](./DATABASE_DESIGN.md) - 第二、五章

**关注点**：接口实现、业务逻辑、数据操作

---

### 前端开发工程师
1. 🔄 [API 接口映射表](./API_MAPPING.md) - 必读
2. ⭐ [项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md) - 第三节（关键技术点）

**关注点**：接口路径、请求格式、响应格式

---

### 测试工程师
1. 🔄 [API 接口映射表](./API_MAPPING.md) - 必读
2. 📖 [详细重构计划](./REFACTORING_PLAN.md) - 第七章（测试计划）

**关注点**：接口测试、性能测试、安全测试

---

### DBA / 运维工程师
1. 🗄️ [数据库设计文档](./DATABASE_DESIGN.md) - 必读
2. 📖 [详细重构计划](./REFACTORING_PLAN.md) - 第八章（部署方案）

**关注点**：数据库优化、备份恢复、部署配置

---

## 📝 阅读建议

### 第一次阅读
1. 先阅读 [项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md)（15 分钟）
2. 浏览 [详细重构计划](./REFACTORING_PLAN.md) 目录（5 分钟）
3. 根据角色选择相关章节精读

### 工作中查阅
- 实现接口时查阅：[API 接口映射表](./API_MAPPING.md)
- 数据库操作时查阅：[数据库设计文档](./DATABASE_DESIGN.md)
- 遇到技术问题时查阅：[架构对比分析](./ARCHITECTURE_COMPARISON.md)

### 定期回顾
- 每周回顾：[详细重构计划](./REFACTORING_PLAN.md) 对应阶段内容
- 每月回顾：[项目分析总结](./PROJECT_ANALYSIS_SUMMARY.md) 检查进度

---

## 🔗 相关资源

### 官方文档
- [Egg.js 官方文档](https://eggjs.org)
- [若依官方文档](http://doc.ruoyi.vip)
- [MyBatis 官方文档](https://mybatis.org/mybatis-3/zh/)

### 自研插件
- [ruoyi-eggjs-mybatis](https://github.com/undsky/ruoyi-eggjs-mybatis)
- [ruoyi-eggjs-mysql](https://github.com/undsky/ruoyi-eggjs-mysql)
- [ruoyi-eggjs-cache](https://github.com/undsky/ruoyi-eggjs-cache)
- [ruoyi-eggjs-ratelimiter](https://github.com/undsky/ruoyi-eggjs-ratelimiter)
- [ruoyi-eggjs-cli](https://github.com/undsky/ruoyi-eggjs-cli)

### 社区资源
- [Egg.js 社区](https://github.com/eggjs/egg/discussions)
- [若依社区](https://gitee.com/y_project/RuoYi-Vue)

---

## 📞 技术支持

如需技术支持或有疑问：

1. 📄 首先查阅本文档中心
2. 🔍 搜索 GitHub Issues
3. 💬 在社区提问
4. 📧 联系项目维护者

---

## 📅 文档更新日志

| 日期 | 版本 | 说明 |
|------|------|------|
| 2025-10-23 | v1.0 | 初始版本，创建所有核心文档 |

---

**文档维护者**：AI Assistant
**最后更新**：2025-10-23
**文档状态**：✅ 完成

